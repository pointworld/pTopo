<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>hello world</title>
  <script src="./js/pTopo.js"></script>
  <style>
    body {
      padding: 0;
      margin: 0;
      overflow: hidden;
    }
  </style>
</head>
<body>
<canvas id="canvas" width="500" height="350"></canvas>

<script>
  canvas.width = document.documentElement.clientWidth - 10
  canvas.height = document.documentElement.clientHeight - 10

  window.addEventListener('resize', function () {
    canvas.width = document.documentElement.clientWidth - 10
    canvas.height = document.documentElement.clientHeight - 10
  })

  const stage = new PTopo.Stage(canvas)
  const scene = new PTopo.Scene(stage)
  scene.background = './img/bg.jpg'

  function newNode(x, y, w, h, text) {
    const node = new PTopo.Node(text)

    node.setLocation(x,y)
    node.setSize(w,h)
    scene.add(node)

    return node
  }

  function newLink(nodeA, nodeZ, text, dashedPattern) {
    const link = new PTopo.Link(nodeA, nodeZ, text)

    link.lineWidth = 3
    link.offsetGap = 35
    link.bundleOffset = 60
    link.bundleGap = 20
    link.textOffsetY = 3
    link.strokeColor = '0,200,255'
    link.dashedPattern = dashedPattern

    scene.add(link)

    return link
  }

  const from = newNode(100, 60, 30, 30, 'p')
  const to = newNode(300, 60, 30, 30, 'w')
  const link = newLink(from, to, 'pw')

  stage.add(scene)

</script>
</body>
</html>
